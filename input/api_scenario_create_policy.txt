Feature: Create Policy API - Description Field Validation

  API Endpoint: POST https://uapautomation-uap.cyberark-everest-pre-prod.cloud/api/policies
  
  Authentication:
    Token URL: https://aog5018.id.integration-cyberark.cloud/oauth2/token/scadev
    Credentials: serviceuserapr@cyberark.cloud.43204 / Cyber@123
    Token Body: {"grant_type": "client_credentials", "scope": "full"}

  @positive @description @validation
  Scenario: Successfully create policy with valid description (string, under 200 chars)
    Given the user obtains OAuth2 token from the token endpoint
    And the policy payload has description "Valid test policy description"
    When the user sends a POST request to "/policies" with valid payload
    Then the response status code should be 200 or 201
    And the response should contain the created policy details


  @negative @description @length_validation
  Scenario: Fail to create policy when description exceeds 200 characters
    Given the user obtains OAuth2 token from the token endpoint
    And the policy payload has description with more than 200 characters
    When the user sends a POST request to "/policies" with the payload
    Then the response status code should be 400
    And the response should contain an error message about description length
    And no policy should be created
